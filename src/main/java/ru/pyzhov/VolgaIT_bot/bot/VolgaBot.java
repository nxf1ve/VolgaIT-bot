package ru.pyzhov.VolgaIT_bot.bot;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;
import org.telegram.telegrambots.bots.TelegramLongPollingBot;
import org.telegram.telegrambots.meta.api.methods.send.SendMessage;
import org.telegram.telegrambots.meta.api.objects.Update;
import org.telegram.telegrambots.meta.exceptions.TelegramApiException;

import java.time.LocalDate;

@Component
public class VolgaBot extends TelegramLongPollingBot {
    private static final Logger LOG = LoggerFactory.getLogger(VolgaBot.class);

    private static final String START = "/start";
    private static final String STAGES = "/stages";
    private static final String SOCIALS = "/socials";
    private static final String DISCIPLINES = "/disciplines";
    private static final String FAQ = "/faq";
    private static final String INFO = "/info";
    private static final String HELP = "/help";

    private void startCommand(Long chatId, String userName) {
        var text = """
            Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±Ð¾Ñ‚, *%s*! ðŸŽ‰
    
            Ð—Ð´ÐµÑÑŒ Ð²Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ðµ *Ð’Ð¾Ð»Ð³Ð° IT*.
    
            Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚ÐµÑÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°Ð¼Ð¸:
            
            ðŸ”¹ **/info** - Ð¾Ð±Ñ‰Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ðµ.  
            ðŸ”¹ **/stages** - Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ ÑÑ‚Ð°Ð¿Ð°Ñ… Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹ Ð¸ Ð¸Ñ… ÑÑ€Ð¾ÐºÐ°Ñ….  
            ðŸ”¹ **/disciplines** - Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹.  
            ðŸ”¹ **/socials** - ÑÑÑ‹Ð»ÐºÐ¸ Ð½Ð° ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑ‚Ð¸ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹.
            ðŸ”¹ **/faq** - Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð½Ð° Ñ‡Ð°ÑÑ‚Ð¾Ð·Ð°Ð´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹.  
            ðŸ”¹ **/ask** - Ð·Ð°Ð´Ð°Ñ‚ÑŒ Ð½Ð°Ð¼ Ð²Ð¾Ð¿Ñ€Ð¾Ñ.  
            
            Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:
            ðŸ”¸ **/help** - Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÑÐ¿Ñ€Ð°Ð²ÐºÐ¸ Ð¿Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÑŽ Ð±Ð¾Ñ‚Ð°.
            """;
        var formattedText = String.format(text, userName);
        sendMessage(chatId, formattedText, "Markdown");
    }

    public VolgaBot(@Value("${bot.token}") String botToken) {
        super(botToken);
    }

    @Override
    public String getBotUsername() {
        return "VolgaIT-bot";
    }

    private void sendMessage(Long chatId, String message, String parseMode) {
        var chatIdStr = String.valueOf(chatId);
        var sendMessage = new SendMessage();
        sendMessage.setChatId(chatIdStr);
        sendMessage.setText(message);

        if (parseMode != null) {
            sendMessage.setParseMode(parseMode); // Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ñ€Ð°Ð·Ð¼ÐµÑ‚ÐºÑƒ, ÐµÑÐ»Ð¸ Ð¾Ð½Ð° ÑƒÐºÐ°Ð·Ð°Ð½Ð°
        }

        sendMessage.disableWebPagePreview();

        try {
            execute(sendMessage);
        } catch (TelegramApiException e) {
            LOG.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ", e);
        }
    }

    private void unknownCommand(Long chatId) {
        var text = """
        â“ ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°.  
        Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ /help, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ ÑÐ¿Ð¸ÑÐ¾Ðº Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ñ… ÐºÐ¾Ð¼Ð°Ð½Ð´.
        """;
        sendMessage(chatId, text, "Markdown");
    }

    private void helpCommand(Long chatId) {
        var text = """
            *Ð¡Ð¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¿Ð¾ Ð±Ð¾Ñ‚Ñƒ* ðŸ“˜

            Ð”Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾Ð± Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ðµ Ð¸ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ñ Ð±Ð¾Ñ‚Ð¾Ð¼, Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚ÐµÑÑŒ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼Ð¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°Ð¼Ð¸:
            
            ðŸ”¹ **/info** - Ð¾Ð±Ñ‰Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ðµ.  
            ðŸ”¹ **/stages** - Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ ÑÑ‚Ð°Ð¿Ð°Ñ… Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹ Ð¸ Ð¸Ñ… ÑÑ€Ð¾ÐºÐ°Ñ….  
            ðŸ”¹ **/disciplines** - ÑÐ¿Ð¸ÑÐ¾Ðº Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹.  
            ðŸ”¹ **/socials** - ÑÑÑ‹Ð»ÐºÐ¸ Ð½Ð° ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑ‚Ð¸ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹.
            ðŸ”¹ **/faq** - Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð½Ð° Ñ‡Ð°ÑÑ‚Ð¾Ð·Ð°Ð´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹.  
            ðŸ”¹ **/ask** - Ð·Ð°Ð´Ð°Ñ‚ÑŒ Ð½Ð°Ð¼ Ð²Ð¾Ð¿Ñ€Ð¾Ñ. 
            
            â“ Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ»Ð¸ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¿Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ Ñ Ð±Ð¾Ñ‚Ð¾Ð¼ Ð¸Ð»Ð¸ ÐµÑÑ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð² Telegram: @nxf1ve.
            """;
        sendMessage(chatId, text, "Markdown");
    }

    private void faqCommand(Long chatId) {
        var text = """
            *Ð§Ð°ÑÑ‚Ð¾ Ð·Ð°Ð´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ (FAQ)* â“

            ðŸ”¹ *ÐšÑ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ ÑƒÑ‡Ð°ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ðµ?*  
            ÐžÐ»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ð° Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ ÑÑ€ÐµÐ´Ð¸ Ð³Ñ€Ð°Ð¶Ð´Ð°Ð½ Ð Ð¾ÑÑÐ¸Ð¹ÑÐºÐ¾Ð¹ Ð¤ÐµÐ´ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð¸ Ð¸Ð½Ð¾ÑÑ‚Ñ€Ð°Ð½Ð½Ñ‹Ñ… Ð³Ð¾ÑÑƒÐ´Ð°Ñ€ÑÑ‚Ð², Ñ€Ð¾Ð´Ð¸Ð²ÑˆÐ¸Ñ…ÑÑ Ð² Ð¿ÐµÑ€Ð¸Ð¾Ð´ Ñ 2001 Ð¿Ð¾ 2008 Ð³Ð¾Ð´ Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾.  

            ðŸ”¹ *ÐšÐ¾Ð³Ð´Ð° Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ð°?*  
            Ð¢Ð¾Ñ‡Ð½Ñ‹Ðµ ÑÑ€Ð¾ÐºÐ¸ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹ ÐµÑ‰Ñ‘ Ð½Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ñ‹, Ð½Ð¾ ÑÑ‚Ð¾Ð¸Ñ‚ Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð¾ÑÐµÐ½ÑŒ 2025 Ð³Ð¾Ð´Ð°.  
            
            ðŸ”¹ *Ð“Ð´Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°Ð¹Ñ‚Ð¸ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð±Ñ‹Ð»Ð¸ Ð½Ð° Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ðµ?*  
            Ð—Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾ÑˆÐ»Ñ‹Ñ… Ð»ÐµÑ‚ Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°Ð¹Ñ‚Ð¸ Ð½Ð° Ð½Ð°ÑˆÐµÐ¼ [ÑÐ°Ð¹Ñ‚Ðµ](https://volga-it.org/past-tasks-and-solutions/). 

            ðŸ”¹ *ÐšÐ°ÐºÐ¸Ðµ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹?*  
            ÐžÐ·Ð½Ð°ÐºÐ¾Ð¼ÑŒÑ‚ÐµÑÑŒ Ñ Ð¿Ð¾Ð»Ð½Ñ‹Ð¼ ÑÐ¿Ð¸ÑÐºÐ¾Ð¼ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ /disciplines.  

            ðŸ”¹ *Ð“Ð´Ðµ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ ÑÑ‚Ð°Ð¿Ñ‹ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹?*  
            Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾Ð± ÑÑ‚Ð°Ð¿Ð°Ñ… Ð¸ ÑÑ€Ð¾ÐºÐ°Ñ… Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°Ð¹Ñ‚Ð¸ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ /stages.  

            Ð•ÑÐ»Ð¸ Ð²Ð°Ñˆ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð½Ðµ ÑƒÐºÐ°Ð·Ð°Ð½ Ð·Ð´ÐµÑÑŒ, Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð·Ð°Ð´Ð°Ñ‚ÑŒ ÐµÐ³Ð¾ Ð½Ð°Ð¼ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ, Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð²ÑˆÐ¸ÑÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ /ask.
            """;
        sendMessage(chatId, text, "Markdown");
    }

    private void handleAskCommand(Long chatId, String messageText) {
        String userQuestion = messageText.substring(4).trim();

        if (userQuestion.isEmpty()) {
            sendMessage(chatId, "â—ï¸ ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð½Ð°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¿Ð¾ÑÐ»Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ /ask.", "Markdown");
        } else {
            sendMessage(chatId, "âœ… Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ Ð·Ð° Ð²Ð°Ñˆ Ð²Ð¾Ð¿Ñ€Ð¾Ñ! ÐœÑ‹ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ ÐµÐ³Ð¾ Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ.", "Markdown");

            sendToAdmin(chatId, userQuestion);
        }
    }

    private void sendToAdmin(Long userChatId, String question) {
        String adminChatId = "476779589";
        String message = String.format("ðŸ“ ÐÐ¾Ð²Ñ‹Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¾Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ (Chat ID: %d):\n%s", userChatId, question);
        sendMessage(Long.valueOf(adminChatId), message, null);
    }

    private void stagesCommand(Long chatId) {
        var text = """
            *Ð­Ñ‚Ð°Ð¿Ñ‹ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹ Ð’Ð¾Ð»Ð³Ð° IT 2024* ðŸš€
            
            1ï¸âƒ£ *ÐšÐ²Ð°Ð»Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ*  
            ðŸ“… _05.09.2024 - 28.10.2024_  
            Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð²ÑˆÐ¸Ð¼ÑÑ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸ Ñ‚ÐµÑÑ‚ Ð² Ð»Ð¸Ñ‡Ð½Ð¾Ð¼ ÐºÐ°Ð±Ð¸Ð½ÐµÑ‚Ðµ.  
            ÐœÐ¾Ð¶Ð½Ð¾ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÑŽÑ‰Ð¸Ñ… Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½.
            
            2ï¸âƒ£ *ÐŸÐ¾Ð»ÑƒÑ„Ð¸Ð½Ð°Ð»*  
            ðŸ“… _13.09.2024 - 28.10.2024_  
            Ð­Ñ‚Ð°Ð¿ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ Ð² *Ð¾Ð½Ð»Ð°Ð¹Ð½-Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ*. Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ Ñ€ÐµÑˆÐ°ÑŽÑ‚ Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ Ð¿Ð¾ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð¹ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ðµ.
            
            3ï¸âƒ£ *Ð¤Ð¸Ð½Ð°Ð»*  
            ðŸ“… _25.11.2024 - 29.11.2024_  
            Ð­Ñ‚Ð°Ð¿ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ *Ð¾Ñ‡Ð½Ð¾* Ð² Ð³Ð¾Ñ€Ð¾Ð´Ðµ *Ð£Ð»ÑŒÑÐ½Ð¾Ð²ÑÐº*. Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ Ñ€ÐµÑˆÐ°ÑŽÑ‚ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¿Ð¾ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ð°Ð¼.
            
            ðŸ“¢ *Ð¡Ð»ÐµÐ´Ð¸Ñ‚Ðµ Ð·Ð° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸ÑÐ¼Ð¸!*  
            Ð£ÑÐ¿ÐµÑ…Ð¾Ð² Ð²ÑÐµÐ¼ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼ Ð¸ Ð´Ð¾ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð¸ Ð½Ð° Ñ„Ð¸Ð½Ð°Ð»Ðµ! âœ¨
            """;

        sendMessage(chatId, text, "Markdown");
    }

    private void infoCommand(Long chatId) {
        var text = """
            *ÐžÐ»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ð° Ð’Ð¾Ð»Ð³Ð°-IT* ðŸŒ

            Ð’Ð¾Ð»Ð³Ð°-IT â€” ÑÑ‚Ð¾ Ð¼ÐµÐ¶Ð´ÑƒÐ½Ð°Ñ€Ð¾Ð´Ð½Ð°Ñ Ñ†Ð¸Ñ„Ñ€Ð¾Ð²Ð°Ñ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ð° Ð´Ð»Ñ ÑˆÐºÐ¾Ð»ÑŒÐ½Ð¸ÐºÐ¾Ð² Ð¸ ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ð¾Ð² Ð² Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚Ðµ Ð¾Ñ‚ 16 Ð´Ð¾ 23 Ð»ÐµÑ‚.  
            ÐÐ°ÑˆÐ° ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ â€” Ð·Ð°Ð´Ð°Ð½Ð¸Ñ, Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ñ… ÐºÐµÐ¹ÑÐ°Ñ… IT-ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¹, Ñ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼Ð¸ Ð¸Ð¼ Ð¿Ñ€Ð¸ÑˆÐ»Ð¾ÑÑŒ ÑÑ‚Ð¾Ð»ÐºÐ½ÑƒÑ‚ÑŒÑÑ.  
            ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ ÑÐµÐ±Ñ Ð² Ñ€ÐµÑˆÐµÐ½Ð¸Ð¸ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ñ… Ð·Ð°Ð´Ð°Ñ‡ Ð¸ Ð½Ð°Ð¹Ð´Ð¸ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸ÑŽ Ð¼ÐµÑ‡Ñ‚Ñ‹!

            ðŸ“… *Ð“Ð¾Ð´ Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ñ*: 2006  
            ðŸ‘¥ *Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²*: 24 000+  
            ðŸŒ *Ð£Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ð¹ Ð² Ð˜Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ðµ Ð¸ Ð¡ÐœÐ˜*: 700 000+  
            ðŸŒ *Ð“Ð¾ÑÑƒÐ´Ð°Ñ€ÑÑ‚Ð²-ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²*: 27+  

            ÐŸÑ€Ð¸Ð¼Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð¸Ðµ Ð² Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ðµ Ð¸ Ð¾Ñ‚ÐºÑ€Ð¾Ð¹ Ð½Ð¾Ð²Ñ‹Ðµ Ð³Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ñ‹ Ð´Ð»Ñ ÑÐ²Ð¾ÐµÐ¹ ÐºÐ°Ñ€ÑŒÐµÑ€Ñ‹! ðŸš€
            
            ðŸ”§ *Ð¥Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ Ð±Ð¾Ð»ÑŒÑˆÐµ?* 
            ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ `/help`, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ Ð±Ð¾Ñ‚Ð°.
            """;

        sendMessage(chatId, text, "Markdown");
    }

    private void socialsCommand(Long chatId) {
        var text = """
             *Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð¾ Ð’Ð¾Ð»Ð³Ð° IT! ðŸš€*
            ÐŸÐ¾Ð´Ð¿Ð¸ÑÑ‹Ð²Ð°Ð¹Ñ‚ÐµÑÑŒ Ð½Ð° Ð½Ð°ÑˆÐ¸ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑ‚Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð¿Ñ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð²Ð°Ð¶Ð½Ñ‹Ðµ Ð½Ð¾Ð²Ð¾ÑÑ‚Ð¸, Ð°Ð½Ð¾Ð½ÑÑ‹ Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹:
            
            ðŸŒ *Ð¡Ð°Ð¹Ñ‚ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹*: [volga-it.org](http://volga-it.org/)                
            ðŸ“± *Ð’ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ðµ*: [vk.com/volgait](https://vk.com/volgait)
            ðŸ“º *YouTube*: [youtube.com/@volgait](https://www.youtube.com/@volgait)
            ðŸ’¬ *Telegram*: [t.me/volgait](https://t.me/volgait)
            ðŸ‘¥ Telegram-Ñ‡Ð°Ñ‚ Ð´Ð»Ñ Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ: [t.me/volgaitx](https://t.me/volgaitx)
            
            ðŸ“¢ Ð‘ÑƒÐ´ÑŒÑ‚Ðµ Ð²ÑÐµÐ³Ð´Ð° Ð² ÐºÑƒÑ€ÑÐµ!
            ÐœÑ‹ Ð¿ÑƒÐ±Ð»Ð¸ÐºÑƒÐµÐ¼ Ð²Ð°Ð¶Ð½Ñ‹Ðµ Ð¾Ð±ÑŠÑÐ²Ð»ÐµÐ½Ð¸Ñ, Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¾ÑˆÐ»Ñ‹Ñ… Ð»ÐµÑ‚, Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹!
            """;

        sendMessage(chatId, text, "Markdown");
    }

    private void disciplinesCommand(Long chatId) {
        var text = """
            *Ð”Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð°Ð´Ñ‹ Ð’Ð¾Ð»Ð³Ð° IT 2024* ðŸŽ“
            
            ðŸ“š Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÑÑ…:
            
            1ï¸âƒ£ **1Ð¡ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**  
            Ð£Ð³Ð»ÑƒÐ±Ð»ÐµÐ½Ð½Ð¾Ðµ Ð¸Ð·ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡ Ð½Ð° Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ðµ 1Ð¡.  

            2ï¸âƒ£ **Backend-Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°: Web API**  
            Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¸ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ ÑÐµÑ€Ð²ÐµÑ€Ð½Ñ‹Ñ… Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹ Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¹.  

            3ï¸âƒ£ **Web-Ð´Ð¸Ð·Ð°Ð¹Ð½**  
            Ð”Ð¸Ð·Ð°Ð¹Ð½ Ð¸ Ð¿Ñ€Ð¾Ñ‚Ð¾Ñ‚Ð¸Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ¾Ð², Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ð¸Ñ… Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ðµ.  

            4ï¸âƒ£ **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ (Java)**  
            Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ‚ÐµÑÑ‚Ð¾Ð² Ð´Ð»Ñ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸Ñ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸Ñ.  

            5ï¸âƒ£ **Ð˜ÑÐºÑƒÑÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚ Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð· Ð´Ð°Ð½Ð½Ñ‹Ñ…**  
            ÐŸÐ¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¸ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð±Ð¾Ð»ÑŒÑˆÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ….  

            6ï¸âƒ£ **ÐœÐ¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Flutter**  
            Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÐºÑ€Ð¾ÑÑÐ¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼ÐµÐ½Ð½Ñ‹Ñ… Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Flutter.  

            7ï¸âƒ£ **Ð¢ÐµÐ»ÐµÐºÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¸ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ**  
            Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ ÑÐµÑ‚ÐµÐ²Ñ‹Ð¼Ð¸ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸ÑÐ¼Ð¸, Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ ÑÐ¸ÑÑ‚ÐµÐ¼ Ð¾Ñ‚ ÑƒÐ³Ñ€Ð¾Ð·.  

            ðŸŒŸ *Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐ²Ð¾ÑŽ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñƒ Ð¸ Ð¿Ð¾ÐºÐ°Ð¶Ð¸Ñ‚Ðµ ÑÐ²Ð¾Ð¸ ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚Ð¸!*  
            """;

        sendMessage(chatId, text, "Markdown");
    }

    @Override
    public void onUpdateReceived(Update update) {
        if (!update.hasMessage() || !update.getMessage().hasText()) {
            return;
        }
        var message = update.getMessage().getText();
        var chatId = update.getMessage().getChatId();
        switch (message) {
            case START -> {
                String userName = update.getMessage().getFrom().getUserName();
                startCommand(chatId, userName);
            }
            case INFO -> infoCommand(chatId);
            case STAGES -> stagesCommand(chatId);
            case SOCIALS -> socialsCommand(chatId);
            case DISCIPLINES -> disciplinesCommand(chatId);
            case FAQ -> faqCommand(chatId);
            case HELP -> helpCommand(chatId);
            default -> {
                if (message.startsWith("/ask")) {
                    handleAskCommand(chatId, message);
                } else {
                    unknownCommand(chatId);
                }
            }
        }
    }
}
